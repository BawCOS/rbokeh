load_all(); figure() %>% ly_bar(variety, yield, color = year, data = lattice::barley) %>% theme_axis("x", major_label_orientation = 90)

# I’m finally doing more extensive testing and merging of your changes.  The example above isn’t capturing color.  Perhaps if I go through it with you I’ll better understand why so I can fix other cases if they come up.

# Also another example that should work, where ly_bar just gets x:

load_all(); figure() %>% ly_bar(variety, data = lattice::barley) %>% theme_axis("x", major_label_orientation = 90)



b <- structure(list(Var1 = structure(c(1L, 2L, 3L, 4L, 5L, 6L, 7L,
8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L,
21L, 22L, 23L, 24L, 25L, 26L, 27L, 28L, 29L, 30L, 31L, 32L, 33L,
34L, 35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 45L, 46L,
47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L, 57L, 58L, 59L,
60L, 61L, 62L, 63L, 64L, 65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L,
73L, 74L, 75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L,
86L, 87L, 88L, 89L, 90L, 91L, 92L, 93L, 94L, 95L, 96L, 97L, 98L,
99L, 100L, 101L, 102L, 103L, 104L, 105L, 106L, 107L, 108L, 109L,
110L, 111L, 112L, 113L, 114L, 115L, 116L, 117L, 118L, 119L, 120L,
121L, 122L, 123L, 124L, 125L, 126L, 127L, 128L, 129L, 130L, 131L,
132L, 133L, 134L, 135L, 136L, 137L, 138L, 139L, 140L, 141L, 142L,
143L, 144L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
154L, 155L, 156L, 157L, 158L, 159L, 160L, 161L, 162L, 163L, 164L,
165L, 166L, 167L, 168L, 169L, 170L, 171L, 172L, 173L, 174L, 175L,
176L, 177L, 178L, 179L, 180L, 181L, 182L, 183L, 184L, 185L, 186L,
187L, 188L, 189L, 190L, 191L, 192L, 193L, 194L, 195L, 196L, 197L,
198L, 199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 207L, 208L,
209L, 210L, 211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L,
220L, 221L, 222L, 223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L,
231L, 232L, 233L, 234L, 235L, 236L, 237L, 238L, 239L, 240L, 241L,
242L, 243L, 244L, 245L, 246L, 247L, 248L, 249L, 250L, 251L, 252L,
253L, 254L, 255L, 256L, 257L, 258L, 259L, 260L, 261L, 262L, 263L,
264L, 265L, 266L, 267L, 268L, 269L, 270L, 271L, 272L, 273L, 274L,
275L, 276L, 277L, 278L, 279L, 280L, 281L, 282L, 283L, 284L, 285L,
286L, 287L, 288L, 289L, 290L, 291L, 292L, 293L, 294L, 295L, 296L,
297L, 298L, 299L, 300L, 301L, 302L, 303L, 304L, 305L, 306L, 307L,
308L, 309L, 310L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L,
319L, 320L, 321L, 322L, 323L, 324L, 325L, 326L, 327L, 328L, 329L,
330L, 331L, 332L, 333L, 334L, 335L, 336L, 337L, 338L, 339L, 340L,
341L, 342L, 343L, 344L, 345L, 346L, 347L, 348L, 349L, 350L, 351L,
352L, 353L, 354L, 355L, 356L, 357L, 358L, 359L, 360L, 361L, 362L,
363L, 364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 372L, 373L,
374L, 375L, 376L, 377L, 378L, 379L, 380L, 381L, 382L, 383L, 384L,
385L, 386L, 387L, 388L, 389L, 390L, 391L, 392L, 393L, 394L, 395L,
396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 406L,
407L, 408L, 409L, 410L, 411L, 412L, 413L, 414L, 415L, 416L, 417L,
418L, 419L, 420L, 421L, 422L, 423L, 424L, 425L, 426L, 427L, 428L,
429L, 430L, 431L, 432L, 433L, 434L, 435L, 436L, 437L, 438L, 439L,
440L, 441L, 442L, 443L, 444L, 445L, 446L, 447L, 448L, 449L, 450L,
451L, 452L, 453L, 454L, 455L, 456L, 457L, 458L, 459L, 460L, 461L,
462L, 463L, 464L, 465L, 466L, 467L, 468L, 469L, 470L, 471L, 472L,
473L, 474L, 475L, 476L, 477L, 478L, 479L, 480L, 481L, 482L, 483L,
484L, 485L, 486L, 487L, 488L, 489L, 490L, 491L, 492L, 493L, 494L,
495L, 496L, 497L, 498L, 499L, 500L, 1L, 2L, 3L, 4L, 5L, 6L, 7L,
8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L,
21L, 22L, 23L, 24L, 25L, 26L, 27L, 28L, 29L, 30L, 31L, 32L, 33L,
34L, 35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 45L, 46L,
47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L, 57L, 58L, 59L,
60L, 61L, 62L, 63L, 64L, 65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L,
73L, 74L, 75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L,
86L, 87L, 88L, 89L, 90L, 91L, 92L, 93L, 94L, 95L, 96L, 97L, 98L,
99L, 100L, 101L, 102L, 103L, 104L, 105L, 106L, 107L, 108L, 109L,
110L, 111L, 112L, 113L, 114L, 115L, 116L, 117L, 118L, 119L, 120L,
121L, 122L, 123L, 124L, 125L, 126L, 127L, 128L, 129L, 130L, 131L,
132L, 133L, 134L, 135L, 136L, 137L, 138L, 139L, 140L, 141L, 142L,
143L, 144L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
154L, 155L, 156L, 157L, 158L, 159L, 160L, 161L, 162L, 163L, 164L,
165L, 166L, 167L, 168L, 169L, 170L, 171L, 172L, 173L, 174L, 175L,
176L, 177L, 178L, 179L, 180L, 181L, 182L, 183L, 184L, 185L, 186L,
187L, 188L, 189L, 190L, 191L, 192L, 193L, 194L, 195L, 196L, 197L,
198L, 199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 207L, 208L,
209L, 210L, 211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L,
220L, 221L, 222L, 223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L,
231L, 232L, 233L, 234L, 235L, 236L, 237L, 238L, 239L, 240L, 241L,
242L, 243L, 244L, 245L, 246L, 247L, 248L, 249L, 250L, 251L, 252L,
253L, 254L, 255L, 256L, 257L, 258L, 259L, 260L, 261L, 262L, 263L,
264L, 265L, 266L, 267L, 268L, 269L, 270L, 271L, 272L, 273L, 274L,
275L, 276L, 277L, 278L, 279L, 280L, 281L, 282L, 283L, 284L, 285L,
286L, 287L, 288L, 289L, 290L, 291L, 292L, 293L, 294L, 295L, 296L,
297L, 298L, 299L, 300L, 301L, 302L, 303L, 304L, 305L, 306L, 307L,
308L, 309L, 310L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L,
319L, 320L, 321L, 322L, 323L, 324L, 325L, 326L, 327L, 328L, 329L,
330L, 331L, 332L, 333L, 334L, 335L, 336L, 337L, 338L, 339L, 340L,
341L, 342L, 343L, 344L, 345L, 346L, 347L, 348L, 349L, 350L, 351L,
352L, 353L, 354L, 355L, 356L, 357L, 358L, 359L, 360L, 361L, 362L,
363L, 364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 372L, 373L,
374L, 375L, 376L, 377L, 378L, 379L, 380L, 381L, 382L, 383L, 384L,
385L, 386L, 387L, 388L, 389L, 390L, 391L, 392L, 393L, 394L, 395L,
396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 406L,
407L, 408L, 409L, 410L, 411L, 412L, 413L, 414L, 415L, 416L, 417L,
418L, 419L, 420L, 421L, 422L, 423L, 424L, 425L, 426L, 427L, 428L,
429L, 430L, 431L, 432L, 433L, 434L, 435L, 436L, 437L, 438L, 439L,
440L, 441L, 442L, 443L, 444L, 445L, 446L, 447L, 448L, 449L, 450L,
451L, 452L, 453L, 454L, 455L, 456L, 457L, 458L, 459L, 460L, 461L,
462L, 463L, 464L, 465L, 466L, 467L, 468L, 469L, 470L, 471L, 472L,
473L, 474L, 475L, 476L, 477L, 478L, 479L, 480L, 481L, 482L, 483L,
484L, 485L, 486L, 487L, 488L, 489L, 490L, 491L, 492L, 493L, 494L,
495L, 496L, 497L, 498L, 499L, 500L, 1L, 2L, 3L, 4L, 5L, 6L, 7L,
8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L,
21L, 22L, 23L, 24L, 25L, 26L, 27L, 28L, 29L, 30L, 31L, 32L, 33L,
34L, 35L, 36L, 37L, 38L, 39L, 40L, 41L, 42L, 43L, 44L, 45L, 46L,
47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L, 55L, 56L, 57L, 58L, 59L,
60L, 61L, 62L, 63L, 64L, 65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L,
73L, 74L, 75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L,
86L, 87L, 88L, 89L, 90L, 91L, 92L, 93L, 94L, 95L, 96L, 97L, 98L,
99L, 100L, 101L, 102L, 103L, 104L, 105L, 106L, 107L, 108L, 109L,
110L, 111L, 112L, 113L, 114L, 115L, 116L, 117L, 118L, 119L, 120L,
121L, 122L, 123L, 124L, 125L, 126L, 127L, 128L, 129L, 130L, 131L,
132L, 133L, 134L, 135L, 136L, 137L, 138L, 139L, 140L, 141L, 142L,
143L, 144L, 145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L,
154L, 155L, 156L, 157L, 158L, 159L, 160L, 161L, 162L, 163L, 164L,
165L, 166L, 167L, 168L, 169L, 170L, 171L, 172L, 173L, 174L, 175L,
176L, 177L, 178L, 179L, 180L, 181L, 182L, 183L, 184L, 185L, 186L,
187L, 188L, 189L, 190L, 191L, 192L, 193L, 194L, 195L, 196L, 197L,
198L, 199L, 200L, 201L, 202L, 203L, 204L, 205L, 206L, 207L, 208L,
209L, 210L, 211L, 212L, 213L, 214L, 215L, 216L, 217L, 218L, 219L,
220L, 221L, 222L, 223L, 224L, 225L, 226L, 227L, 228L, 229L, 230L,
231L, 232L, 233L, 234L, 235L, 236L, 237L, 238L, 239L, 240L, 241L,
242L, 243L, 244L, 245L, 246L, 247L, 248L, 249L, 250L, 251L, 252L,
253L, 254L, 255L, 256L, 257L, 258L, 259L, 260L, 261L, 262L, 263L,
264L, 265L, 266L, 267L, 268L, 269L, 270L, 271L, 272L, 273L, 274L,
275L, 276L, 277L, 278L, 279L, 280L, 281L, 282L, 283L, 284L, 285L,
286L, 287L, 288L, 289L, 290L, 291L, 292L, 293L, 294L, 295L, 296L,
297L, 298L, 299L, 300L, 301L, 302L, 303L, 304L, 305L, 306L, 307L,
308L, 309L, 310L, 311L, 312L, 313L, 314L, 315L, 316L, 317L, 318L,
319L, 320L, 321L, 322L, 323L, 324L, 325L, 326L, 327L, 328L, 329L,
330L, 331L, 332L, 333L, 334L, 335L, 336L, 337L, 338L, 339L, 340L,
341L, 342L, 343L, 344L, 345L, 346L, 347L, 348L, 349L, 350L, 351L,
352L, 353L, 354L, 355L, 356L, 357L, 358L, 359L, 360L, 361L, 362L,
363L, 364L, 365L, 366L, 367L, 368L, 369L, 370L, 371L, 372L, 373L,
374L, 375L, 376L, 377L, 378L, 379L, 380L, 381L, 382L, 383L, 384L,
385L, 386L, 387L, 388L, 389L, 390L, 391L, 392L, 393L, 394L, 395L,
396L, 397L, 398L, 399L, 400L, 401L, 402L, 403L, 404L, 405L, 406L,
407L, 408L, 409L, 410L, 411L, 412L, 413L, 414L, 415L, 416L, 417L,
418L, 419L, 420L, 421L, 422L, 423L, 424L, 425L, 426L, 427L, 428L,
429L, 430L, 431L, 432L, 433L, 434L, 435L, 436L, 437L, 438L, 439L,
440L, 441L, 442L, 443L, 444L, 445L, 446L, 447L, 448L, 449L, 450L,
451L, 452L, 453L, 454L, 455L, 456L, 457L, 458L, 459L, 460L, 461L,
462L, 463L, 464L, 465L, 466L, 467L, 468L, 469L, 470L, 471L, 472L,
473L, 474L, 475L, 476L, 477L, 478L, 479L, 480L, 481L, 482L, 483L,
484L, 485L, 486L, 487L, 488L, 489L, 490L, 491L, 492L, 493L, 494L,
495L, 496L, 497L, 498L, 499L, 500L), .Label = c("1", "2", "3",
"4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15",
"16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26",
"27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37",
"38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48",
"49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59",
"60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "70",
"71", "72", "73", "74", "75", "76", "77", "78", "79", "80", "81",
"82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92",
"93", "94", "95", "96", "97", "98", "99", "100", "101", "102",
"103", "104", "105", "106", "107", "108", "109", "110", "111",
"112", "113", "114", "115", "116", "117", "118", "119", "120",
"121", "122", "123", "124", "125", "126", "127", "128", "129",
"130", "131", "132", "133", "134", "135", "136", "137", "138",
"139", "140", "141", "142", "143", "144", "145", "146", "147",
"148", "149", "150", "151", "152", "153", "154", "155", "156",
"157", "158", "159", "160", "161", "162", "163", "164", "165",
"166", "167", "168", "169", "170", "171", "172", "173", "174",
"175", "176", "177", "178", "179", "180", "181", "182", "183",
"184", "185", "186", "187", "188", "189", "190", "191", "192",
"193", "194", "195", "196", "197", "198", "199", "200", "201",
"202", "203", "204", "205", "206", "207", "208", "209", "210",
"211", "212", "213", "214", "215", "216", "217", "218", "219",
"220", "221", "222", "223", "224", "225", "226", "227", "228",
"229", "230", "231", "232", "233", "234", "235", "236", "237",
"238", "239", "240", "241", "242", "243", "244", "245", "246",
"247", "248", "249", "250", "251", "252", "253", "254", "255",
"256", "257", "258", "259", "260", "261", "262", "263", "264",
"265", "266", "267", "268", "269", "270", "271", "272", "273",
"274", "275", "276", "277", "278", "279", "280", "281", "282",
"283", "284", "285", "286", "287", "288", "289", "290", "291",
"292", "293", "294", "295", "296", "297", "298", "299", "300",
"301", "302", "303", "304", "305", "306", "307", "308", "309",
"310", "311", "312", "313", "314", "315", "316", "317", "318",
"320", "321", "322", "323", "324", "325", "326", "327", "328",
"329", "330", "331", "332", "333", "334", "335", "336", "337",
"338", "339", "340", "341", "342", "343", "344", "345", "346",
"347", "348", "349", "350", "351", "352", "353", "354", "355",
"356", "357", "358", "359", "360", "361", "362", "363", "364",
"365", "366", "367", "368", "369", "370", "371", "372", "373",
"374", "375", "376", "377", "378", "379", "380", "381", "382",
"383", "384", "385", "386", "387", "388", "389", "390", "391",
"392", "393", "394", "395", "396", "397", "398", "399", "400",
"401", "402", "403", "404", "405", "406", "407", "408", "409",
"410", "411", "412", "413", "414", "415", "416", "417", "418",
"419", "420", "421", "422", "423", "424", "425", "426", "427",
"428", "429", "430", "431", "432", "433", "434", "435", "436",
"437", "438", "439", "440", "441", "442", "443", "444", "445",
"446", "447", "448", "449", "450", "451", "452", "453", "454",
"455", "456", "457", "458", "459", "460", "461", "462", "463",
"464", "465", "466", "467", "468", "469", "470", "471", "472",
"473", "474", "475", "476", "477", "478", "479", "480", "481",
"482", "483", "484", "485", "486", "487", "488", "489", "490",
"491", "492", "493", "494", "495", "496", "497", "498", "499",
"500", "501"), class = "factor"), Freq = c(3L, 4L, 1L, 1L, 1L,
1L, 4L, 5L, 5L, 2L, 3L, 2L, 3L, 4L, 5L, 4L, 4L, 5L, 4L, 3L, 4L,
5L, 5L, 5L, 4L, 4L, 1L, 3L, 3L, 4L, 4L, 4L, 5L, 4L, 3L, 4L, 4L,
4L, 4L, 5L, 4L, 5L, 3L, 3L, 4L, 3L, 3L, 3L, 4L, 5L, 5L, 5L, 4L,
4L, 2L, 4L, 3L, 4L, 3L, 4L, 4L, 4L, 4L, 5L, 4L, 2L, 4L, 2L, 3L,
4L, 3L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L,
4L, 4L, 3L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 1L, 2L,
4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 5L, 4L,
4L, 5L, 4L, 4L, 5L, 3L, 3L, 4L, 4L, 5L, 4L, 4L, 5L, 5L, 4L, 3L,
5L, 4L, 4L, 5L, 4L, 5L, 3L, 3L, 4L, 5L, 4L, 5L, 4L, 3L, 3L, 4L,
4L, 4L, 1L, 2L, 4L, 1L, 4L, 5L, 4L, 4L, 3L, 4L, 4L, 4L, 3L, 3L,
3L, 3L, 1L, 4L, 5L, 5L, 4L, 5L, 5L, 3L, 4L, 4L, 4L, 4L, 4L, 2L,
1L, 5L, 4L, 4L, 3L, 3L, 4L, 4L, 5L, 4L, 5L, 4L, 5L, 2L, 4L, 4L,
4L, 4L, 5L, 5L, 4L, 5L, 1L, 4L, 4L, 5L, 5L, 4L, 5L, 5L, 3L, 4L,
4L, 4L, 5L, 4L, 5L, 5L, 5L, 5L, 4L, 4L, 5L, 3L, 4L, 5L, 5L, 4L,
3L, 4L, 3L, 3L, 4L, 5L, 4L, 5L, 4L, 3L, 5L, 4L, 4L, 4L, 4L, 4L,
1L, 3L, 4L, 4L, 3L, 4L, 5L, 5L, 5L, 3L, 5L, 2L, 5L, 4L, 4L, 5L,
4L, 5L, 4L, 1L, 4L, 3L, 5L, 4L, 5L, 5L, 4L, 3L, 4L, 1L, 1L, 4L,
3L, 4L, 5L, 4L, 3L, 1L, 4L, 2L, 1L, 1L, 4L, 3L, 5L, 3L, 4L, 3L,
4L, 5L, 4L, 5L, 4L, 4L, 2L, 2L, 1L, 1L, 3L, 2L, 4L, 4L, 5L, 4L,
5L, 5L, 4L, 5L, 4L, 4L, 3L, 1L, 4L, 1L, 2L, 4L, 4L, 4L, 4L, 1L,
4L, 3L, 3L, 4L, 4L, 5L, 4L, 5L, 5L, 5L, 4L, 2L, 2L, 3L, 4L, 4L,
5L, 4L, 4L, 3L, 5L, 4L, 5L, 4L, 5L, 4L, 3L, 1L, 4L, 3L, 4L, 5L,
4L, 3L, 4L, 4L, 5L, 4L, 4L, 5L, 4L, 4L, 4L, 5L, 4L, 5L, 1L, 4L,
4L, 4L, 4L, 5L, 3L, 5L, 4L, 5L, 3L, 4L, 4L, 5L, 3L, 3L, 4L, 4L,
4L, 4L, 5L, 3L, 4L, 5L, 4L, 3L, 4L, 4L, 4L, 5L, 4L, 5L, 3L, 5L,
4L, 4L, 4L, 4L, 4L, 5L, 5L, 5L, 4L, 4L, 5L, 4L, 3L, 4L, 5L, 5L,
4L, 5L, 3L, 5L, 3L, 3L, 2L, 3L, 2L, 4L, 5L, 3L, 4L, 5L, 4L, 4L,
4L, 4L, 4L, 1L, 3L, 2L, 4L, 4L, 4L, 3L, 4L, 3L, 3L, 2L, 4L, 5L,
5L, 3L, 5L, 5L, 4L, 4L, 5L, 1L, 3L, 4L, 4L, 1L, 4L, 4L, 5L, 5L,
5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L, 5L, 5L, 4L, 4L,
3L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 2L, 4L, 3L, 4L, 5L, 4L, 3L, 3L,
4L, 1L, 1L, 1L, 1L, 4L, 5L, 5L, 2L, 3L, 2L, 3L, 4L, 5L, 4L, 4L,
5L, 4L, 3L, 4L, 5L, 5L, 5L, 4L, 4L, 1L, 3L, 3L, 4L, 4L, 4L, 5L,
4L, 3L, 4L, 4L, 4L, 4L, 5L, 4L, 5L, 3L, 3L, 4L, 3L, 3L, 3L, 4L,
5L, 5L, 5L, 4L, 4L, 2L, 4L, 3L, 4L, 3L, 4L, 4L, 4L, 4L, 5L, 4L,
2L, 4L, 2L, 3L, 4L, 3L, 1L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L,
4L, 4L, 5L, 4L, 4L, 4L, 3L, 5L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L,
4L, 4L, 1L, 2L, 4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L, 3L, 4L, 4L, 4L,
4L, 4L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 3L, 3L, 4L, 4L, 5L, 4L, 4L,
5L, 5L, 4L, 3L, 5L, 4L, 4L, 5L, 4L, 5L, 3L, 3L, 4L, 5L, 4L, 5L,
4L, 3L, 3L, 4L, 4L, 4L, 1L, 2L, 4L, 1L, 4L, 5L, 4L, 4L, 3L, 4L,
4L, 4L, 3L, 3L, 3L, 3L, 1L, 4L, 5L, 5L, 4L, 5L, 5L, 3L, 4L, 4L,
4L, 4L, 4L, 2L, 1L, 5L, 4L, 4L, 3L, 3L, 4L, 4L, 5L, 4L, 5L, 4L,
5L, 2L, 4L, 4L, 4L, 4L, 5L, 5L, 4L, 5L, 1L, 4L, 4L, 5L, 5L, 4L,
5L, 5L, 3L, 4L, 4L, 4L, 5L, 4L, 5L, 5L, 5L, 5L, 4L, 4L, 5L, 3L,
4L, 5L, 5L, 4L, 3L, 4L, 3L, 3L, 4L, 5L, 4L, 5L, 4L, 3L, 5L, 4L,
4L, 4L, 4L, 4L, 1L, 3L, 4L, 4L, 3L, 4L, 5L, 5L, 5L, 3L, 5L, 2L,
5L, 4L, 4L, 5L, 4L, 5L, 4L, 1L, 4L, 3L, 5L, 4L, 5L, 5L, 4L, 3L,
4L, 1L, 1L, 4L, 3L, 4L, 5L, 4L, 3L, 1L, 4L, 2L, 1L, 1L, 4L, 3L,
5L, 3L, 4L, 3L, 4L, 5L, 4L, 5L, 4L, 4L, 2L, 2L, 1L, 1L, 3L, 2L,
4L, 4L, 5L, 4L, 5L, 5L, 4L, 5L, 4L, 4L, 3L, 1L, 4L, 1L, 2L, 4L,
4L, 4L, 4L, 1L, 4L, 3L, 3L, 4L, 4L, 5L, 4L, 5L, 5L, 5L, 4L, 2L,
2L, 3L, 4L, 4L, 5L, 4L, 4L, 3L, 5L, 4L, 5L, 4L, 5L, 4L, 3L, 1L,
4L, 3L, 4L, 5L, 4L, 3L, 4L, 4L, 5L, 4L, 4L, 5L, 4L, 4L, 4L, 5L,
4L, 5L, 1L, 4L, 4L, 4L, 4L, 5L, 3L, 5L, 4L, 5L, 3L, 4L, 4L, 5L,
3L, 3L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 5L, 4L, 3L, 4L, 4L, 4L, 5L,
4L, 5L, 3L, 5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 5L, 4L, 4L, 5L, 4L,
3L, 4L, 5L, 5L, 4L, 5L, 3L, 5L, 3L, 3L, 2L, 3L, 2L, 4L, 5L, 3L,
4L, 5L, 4L, 4L, 4L, 4L, 4L, 1L, 3L, 2L, 4L, 4L, 4L, 3L, 4L, 3L,
3L, 2L, 4L, 5L, 5L, 3L, 5L, 5L, 4L, 4L, 5L, 1L, 3L, 4L, 4L, 1L,
4L, 4L, 5L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L, 4L, 4L, 4L, 5L,
5L, 5L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 2L, 4L, 3L, 4L,
5L, 4L, 3L, 3L, 4L, 1L, 1L, 1L, 1L, 4L, 5L, 5L, 2L, 3L, 2L, 3L,
4L, 5L, 4L, 4L, 5L, 4L, 3L, 4L, 5L, 5L, 5L, 4L, 4L, 1L, 3L, 3L,
4L, 4L, 4L, 5L, 4L, 3L, 4L, 4L, 4L, 4L, 5L, 4L, 5L, 3L, 3L, 4L,
3L, 3L, 3L, 4L, 5L, 5L, 5L, 4L, 4L, 2L, 4L, 3L, 4L, 3L, 4L, 4L,
4L, 4L, 5L, 4L, 2L, 4L, 2L, 3L, 4L, 3L, 1L, 4L, 4L, 4L, 4L, 4L,
4L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 4L, 3L, 5L, 4L, 4L, 4L, 4L,
5L, 4L, 4L, 4L, 4L, 4L, 1L, 2L, 4L, 4L, 4L, 4L, 5L, 5L, 4L, 4L,
3L, 4L, 4L, 4L, 4L, 4L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 3L, 3L, 4L,
4L, 5L, 4L, 4L, 5L, 5L, 4L, 3L, 5L, 4L, 4L, 5L, 4L, 5L, 3L, 3L,
4L, 5L, 4L, 5L, 4L, 3L, 3L, 4L, 4L, 4L, 1L, 2L, 4L, 1L, 4L, 5L,
4L, 4L, 3L, 4L, 4L, 4L, 3L, 3L, 3L, 3L, 1L, 4L, 5L, 5L, 4L, 5L,
5L, 3L, 4L, 4L, 4L, 4L, 4L, 2L, 1L, 5L, 4L, 4L, 3L, 3L, 4L, 4L,
5L, 4L, 5L, 4L, 5L, 2L, 4L, 4L, 4L, 4L, 5L, 5L, 4L, 5L, 1L, 4L,
4L, 5L, 5L, 4L, 5L, 5L, 3L, 4L, 4L, 4L, 5L, 4L, 5L, 5L, 5L, 5L,
4L, 4L, 5L, 3L, 4L, 5L, 5L, 4L, 3L, 4L, 3L, 3L, 4L, 5L, 4L, 5L,
4L, 3L, 5L, 4L, 4L, 4L, 4L, 4L, 1L, 3L, 4L, 4L, 3L, 4L, 5L, 5L,
5L, 3L, 5L, 2L, 5L, 4L, 4L, 5L, 4L, 5L, 4L, 1L, 4L, 3L, 5L, 4L,
5L, 5L, 4L, 3L, 4L, 1L, 1L, 4L, 3L, 4L, 5L, 4L, 3L, 1L, 4L, 2L,
1L, 1L, 4L, 3L, 5L, 3L, 4L, 3L, 4L, 5L, 4L, 5L, 4L, 4L, 2L, 2L,
1L, 1L, 3L, 2L, 4L, 4L, 5L, 4L, 5L, 5L, 4L, 5L, 4L, 4L, 3L, 1L,
4L, 1L, 2L, 4L, 4L, 4L, 4L, 1L, 4L, 3L, 3L, 4L, 4L, 5L, 4L, 5L,
5L, 5L, 4L, 2L, 2L, 3L, 4L, 4L, 5L, 4L, 4L, 3L, 5L, 4L, 5L, 4L,
5L, 4L, 3L, 1L, 4L, 3L, 4L, 5L, 4L, 3L, 4L, 4L, 5L, 4L, 4L, 5L,
4L, 4L, 4L, 5L, 4L, 5L, 1L, 4L, 4L, 4L, 4L, 5L, 3L, 5L, 4L, 5L,
3L, 4L, 4L, 5L, 3L, 3L, 4L, 4L, 4L, 4L, 5L, 3L, 4L, 5L, 4L, 3L,
4L, 4L, 4L, 5L, 4L, 5L, 3L, 5L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 5L,
4L, 4L, 5L, 4L, 3L, 4L, 5L, 5L, 4L, 5L, 3L, 5L, 3L, 3L, 2L, 3L,
2L, 4L, 5L, 3L, 4L, 5L, 4L, 4L, 4L, 4L, 4L, 1L, 3L, 2L, 4L, 4L,
4L, 3L, 4L, 3L, 3L, 2L, 4L, 5L, 5L, 3L, 5L, 5L, 4L, 4L, 5L, 1L,
3L, 4L, 4L, 1L, 4L, 4L, 5L, 5L, 5L, 4L, 4L, 5L, 4L, 4L, 5L, 5L,
4L, 4L, 4L, 5L, 5L, 5L, 4L, 4L, 3L, 4L, 4L, 4L, 4L, 4L, 5L, 4L,
2L, 4L, 3L, 4L, 5L, 4L, 3L), study = structure(c(1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L,
1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L,
2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L,
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("cpp1", "cpp2",
"cpp3"), class = "factor")), .Names = c("Var1", "Freq", "study"
), row.names = c(NA, 1500L), class = "data.frame")

load_all(); figure(ylab = "log base 2 # records for a subject") %>%    ly_boxplot(log2(Freq), study, data = b)
# fixed?



figure() %>% ly_bar(letters, color = "red")
# the color isn't honored
# fixed

load_all(); figure() %>% ly_bar(rep("a", 10))
# see the output of that - looks strange
# fixed



# data.table
library(data.table)
load_all(); figure() %>% ly_points(Sepal.Length, Sepal.Width, data = as.data.table(iris), color = Species, hover = as.data.table(iris)[, list(Species)]) -> p
print_model_json(p, file = "/dev/null")
# hover is weird
# fixed

load_all(); figure() %>% ly_points(Sepal.Length, Sepal.Width, data = as.data.table(iris), color = Species, hover = as.data.table(iris)[, list(Species)], url = "http://www.google.com?q=@Species") -> p
print_model_json(p, file = "/dev/null")
# url is broken

hover <- NULL
load_all(); figure() %>% ly_points(1:10, hover = hover) -> p ; p
# fixed
# now produces "hover: ???"


load_all(); figure() %>% ly_text(1, 1, text = "howdy") -> p; p
# this doesn't render anything
# blank graph is now displayed.  no text though

# what's interesting is you don't find the text "howdy" in the json:
print_model_json(p)
# fixed!




# here's another related hover thing
tmp <- iris[1,]

load_all(); figure() %>% ly_points(Sepal.Length, Sepal.Width, hover = Species, data = iris)
load_all(); figure() %>% ly_points(Sepal.Length, Sepal.Width, hover = Species, data = tmp)
# first one works, second one doesn't
# has to do with it being a single row of data

# fixed? Can't see anything wrong
